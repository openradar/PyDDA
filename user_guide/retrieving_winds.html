
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Retrieving your first wind field &#8212; PyDDA 2.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=f5cff4aa"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/retrieving_winds';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Optimizing your wind retrieval" href="optimizing_wind_retrieval.html" />
    <link rel="prev" title="Converting the radar data to Cartesian coordinates with Py-ART" href="gridding.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">PyDDA 2.0.1 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../contributors_guide/index.html">
                        Contributor’s Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../source/auto_examples/index.html">
                        PyDDA Example Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev_reference/index.html">
                        Developer Reference Manual
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../contributors_guide/index.html">
                        Contributor’s Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../source/auto_examples/index.html">
                        PyDDA Example Gallery
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev_reference/index.html">
                        Developer Reference Manual
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="read_radar_data.html">Reading in Radar Data in Native Radial Coordinates</a></li>
<li class="toctree-l1"><a class="reference internal" href="dealiasing_velocities.html">Radar Data Quality Control - Dealiasing</a></li>
<li class="toctree-l1"><a class="reference internal" href="gridding.html">Converting the radar data to Cartesian coordinates with Py-ART</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Retrieving your first wind field</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizing_wind_retrieval.html">Optimizing your wind retrieval</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualizing_winds.html">Visualizing the wind retrieval</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Retrieving your first wind field</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizing_wind_retrieval.html">Optimizing your wind retrieval</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Retrieving...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="retrieving-your-first-wind-field">
<span id="retrieving-winds"></span><h1>Retrieving your first wind field<a class="headerlink" href="#retrieving-your-first-wind-field" title="Link to this heading">#</a></h1>
<section id="d-variational-technique">
<h2>3D variational technique<a class="headerlink" href="#d-variational-technique" title="Link to this heading">#</a></h2>
<p>PyDDA minimizes a cost function <span class="math notranslate nohighlight">\(J\)</span> that corresponds to various penalties including:</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Cost Function</p></td>
<td><p>Interpretation</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(J_{m} = \nabla \cdot V + w \frac{d\rho}{dz}\)</span></p></td>
<td><p>Mass continuity equation</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(J_{o} = \sum_{radar} [V_{ar} - \textbf{V}]^2\)</span></p></td>
<td><p>Radar winds</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(J_{o} = \sum_{domain} [V_{model} - \textbf{V}]^2\)</span></p></td>
<td><p>Model winds</p></td>
</tr>
<tr class="row-odd"><td><p><span class="math notranslate nohighlight">\(J_{b} = \sum_{background} [V_{sounding} - \textbf{V}]^2\)</span></p></td>
<td><p>Sounding background</p></td>
</tr>
<tr class="row-even"><td><p><span class="math notranslate nohighlight">\(J_{s} = \nabla^2 V\)</span></p></td>
<td><p>Wind field smoothness</p></td>
</tr>
</tbody>
</table>
<p>The cost function to be minimized is a weighted sum of the various cost functions in PyDDA and are represented in Equation (1):</p>
<p><span class="math notranslate nohighlight">\(J = c_{m}J_{m} + c_{o}J_{o} + c_{b}J_{b} + c_{s}J_{s} + ...\)</span> (1)</p>
</section>
<section id="doing-your-first-wind-retrieval">
<h2>Doing your first wind retrieval<a class="headerlink" href="#doing-your-first-wind-retrieval" title="Link to this heading">#</a></h2>
<p>The next step is to use PyDDA to retrieve the input winds! In order to perform a wind
retrieval, there are many aspects that must be considered. After the data processing has
finished, it is now important to constrain the wind field further by adding in either sounding,
point, or model data as a weak constraint in order to increase the chance that PyDDA will
provide a solution that converges to a physically realistic wind field. For this particular example,
we are lucky enough to have model data from the Rapid Update Cycle that can be used as a constraint.</p>
</section>
<section id="using-pydda-s-data-model">
<h2>Using PyDDA’s data model<a class="headerlink" href="#using-pydda-s-data-model" title="Link to this heading">#</a></h2>
<p>As of PyDDA 2.0, PyDDA uses <a class="reference external" href="https://docs.xarray.dev/en/stable/generated/xarray.Dataset.html">xarray Datasets</a>
to represent the underlying datastructure. This makes it easier to integrate PyDDA into xarray-based workflows
that are the standard for use in the Geoscientific Python Community. Therefore, anyone using PyART Grids will need
to convert their grids to PyDDA Grids using the <code class="xref py py-meth docutils literal notranslate"><span class="pre">pydda.io.read_from_pyart_grid()</span></code> helper function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grid_ktlx</span> <span class="o">=</span> <span class="n">pydda</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_from_pyart_grid</span><span class="p">(</span><span class="n">grid_ktlx</span><span class="p">)</span>
<span class="n">grid_kict</span> <span class="o">=</span> <span class="n">pydda</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">read_from_pyart_grid</span><span class="p">(</span><span class="n">grid_kict</span><span class="p">)</span>
</pre></div>
</div>
<p>In addition, <code class="xref py py-meth docutils literal notranslate"><span class="pre">pydda.io.read_grid()</span></code> will read a cf-Compliant radar grid into a PyDDA Grid.</p>
</section>
<section id="using-models-for-constraints">
<h2>Using models for constraints<a class="headerlink" href="#using-models-for-constraints" title="Link to this heading">#</a></h2>
<p>In this example, we will use model data from the Rapid Update Cycle (RUC) in order to
provide a constraint on the horizontal winds. This helps to constrain the background
area where there is suboptimal coverage from the radar network outside of the dual
Doppler lobes. To add either a RUC or HRRR model time period as a constraint, we need
to have the original model data in GRIB format and then use the following line to
load the model data into a PyDDA grid for processing.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Add constraints</span>
<span class="n">grid_kict</span> <span class="o">=</span> <span class="n">pydda</span><span class="o">.</span><span class="n">constraints</span><span class="o">.</span><span class="n">add_hrrr_constraint_to_grid</span><span class="p">(</span><span class="n">grid_kict</span><span class="p">,</span>
    <span class="n">pydda</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">get_sample_file</span><span class="p">(</span><span class="s1">&#39;ruc2anl_130_20110520_0800_001.grb2&#39;</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="set-up-your-initialization">
<h2>Set up your initialization<a class="headerlink" href="#set-up-your-initialization" title="Link to this heading">#</a></h2>
<p>In addition to adding more constraints, PyDDA requires a first guess of the wind field in order
to start performing the optimization loop that finds the wind field that minimizes <span class="math notranslate nohighlight">\(J\)</span>. For this
example, we will start with a zero initial wind field. The following code snippet will initialize PyDDA
with a zero wind field:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grid_kict</span> <span class="o">=</span> <span class="n">pydda</span><span class="o">.</span><span class="n">initialization</span><span class="o">.</span><span class="n">make_constant_wind_field</span><span class="p">(</span><span class="n">grid_kict</span><span class="p">,</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="id1">
<h2>Retrieving your first wind field<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>We will then take a first attempt at retrieving a wind field using PyDDA. This is done using the
<a class="reference internal" href="../dev_reference/generated/pydda.retrieval.get_dd_wind_field.html#pydda.retrieval.get_dd_wind_field" title="pydda.retrieval.get_dd_wind_field"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pydda.retrieval.get_dd_wind_field()</span></code></a> function. This function takes in a minimum of one input, a list
of input PyART Grids. We will also specify the constants for the constraints. In this case, we are using
the mass continuity, radar observation, smoothness, and model constraints.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">grids_out</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">pydda</span><span class="o">.</span><span class="n">retrieval</span><span class="o">.</span><span class="n">get_dd_wind_field</span><span class="p">([</span><span class="n">grid_kict</span><span class="p">,</span> <span class="n">grid_ktlx</span><span class="p">],</span>
                                            <span class="n">Cm</span><span class="o">=</span><span class="mf">256.0</span><span class="p">,</span> <span class="n">Co</span><span class="o">=</span><span class="mf">1e-2</span><span class="p">,</span> <span class="n">Cx</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Cy</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                            <span class="n">Cz</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">Cmod</span><span class="o">=</span><span class="mf">1e-5</span><span class="p">,</span> <span class="n">model_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;hrrr&quot;</span><span class="p">],</span>
                                            <span class="n">refl_field</span><span class="o">=</span><span class="s1">&#39;DBZ&#39;</span><span class="p">,</span> <span class="n">wind_tol</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span>
                                            <span class="n">max_iterations</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">filter_window</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
                                            <span class="n">filter_order</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;scipy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="plotting-the-output-winds">
<h2>Plotting the output winds<a class="headerlink" href="#plotting-the-output-winds" title="Link to this heading">#</a></h2>
<p>PyDDA contains visualization routines to create barb, quiver, and streamline plots of your wind fields
overlaid on gridded radar variables. Further detail about these visualization routines is contained in the
<a class="reference internal" href="visualizing_winds.html#visualizing-winds"><span class="std std-ref">Visualizing the wind retrieval</span></a> section. For this example, we will use <code class="code docutils literal notranslate"><span class="pre">pydda.vis.plot_horiz_xsection_quiver</span></code> to
create a quiver plot of the wind field. In this example, we are plotting winds at the 15th vertical level of the
grid, with the background field being reflectivity with the colormap spanning -10 to 80 ref. We will specify 25 km
horizontal spacing between quivers and a quiver key length of 10 m/s. Finally, we specify that we will place the quiver
key on the bottom right interior of the plot.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pydda</span><span class="o">.</span><span class="n">vis</span><span class="o">.</span><span class="n">plot_horiz_xsection_quiver</span><span class="p">(</span><span class="n">grids_out</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;ChaseSpectral&#39;</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
                                 <span class="n">quiverkey_len</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">background_field</span><span class="o">=</span><span class="s1">&#39;DBZ&#39;</span><span class="p">,</span> <span class="n">bg_grid_no</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                                 <span class="n">w_vel_contours</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span> <span class="n">quiver_spacing_x_km</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span>
                                 <span class="n">quiver_spacing_y_km</span><span class="o">=</span><span class="mf">25.0</span><span class="p">,</span> <span class="n">quiverkey_loc</span><span class="o">=</span><span class="s1">&#39;bottom_right&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>(<a class="reference download internal" download="" href="../_downloads/f76ba85af446c48aed1a410185e41a06/retrieving_winds-1.py"><code class="xref download docutils literal notranslate"><span class="pre">Source</span> <span class="pre">code</span></code></a>, <a class="reference download internal" download="" href="../_downloads/7bcb9570322c31ca43d0d568ac644aa8/retrieving_winds-1.png"><code class="xref download docutils literal notranslate"><span class="pre">png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/6fe134a1f39e683999d0c29b6f82065b/retrieving_winds-1.hires.png"><code class="xref download docutils literal notranslate"><span class="pre">hires.png</span></code></a>, <a class="reference download internal" download="" href="../_downloads/27abf7ab7a8878121d559cc6c4b16f1f/retrieving_winds-1.pdf"><code class="xref download docutils literal notranslate"><span class="pre">pdf</span></code></a>)</p>
<figure class="align-default">
<img alt="../_images/retrieving_winds-1.png" class="plot-directive" src="../_images/retrieving_winds-1.png" />
</figure>
<p>We can see in this figure that PyDDA is resolving numerous updrafts in the mid-levels. One thing to be aware of
is the vertical motion at the edge of the Dual Doppler lobe in the top right corner. This vertical motion is likely
caused by the wind source changing from primarily the radar data to the RUC model run outside of the Dual Doppler
lobes, causing a slight shift in winds that results in horizontal convergence. This convergence will result in an
updraft in the domain that is an artifiact of this switch in data sources. It is therefore recommended to not
use vertical velocity data in updrafts that are touching the Dual Doppler lobe edges to mitigate this issue. In
addition, prescribing a stronger background constraint or filtering the data more often may also help mitigate this
issue. We will go into this further in <a class="reference internal" href="optimizing_wind_retrieval.html#optimizing-wind-retrieval"><span class="std std-ref">Optimizing your wind retrieval</span></a>.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="gridding.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Converting the radar data to Cartesian coordinates with Py-ART</p>
      </div>
    </a>
    <a class="right-next"
       href="optimizing_wind_retrieval.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Optimizing your wind retrieval</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#d-variational-technique">3D variational technique</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#doing-your-first-wind-retrieval">Doing your first wind retrieval</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-pydda-s-data-model">Using PyDDA’s data model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-models-for-constraints">Using models for constraints</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#set-up-your-initialization">Set up your initialization</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Retrieving your first wind field</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting-the-output-winds">Plotting the output winds</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/user_guide/retrieving_winds.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2023, PyDDA Developers.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>